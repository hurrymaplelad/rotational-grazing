package aph.rg{	import flash.display.MovieClip;	import flash.geom.Point;		public class Unit extends MovieClip{				private var targetPos:Point;				private static const SPEED:Number = 3.5;				/** CONSTRUCTOR **/		public function Unit(){			targetPos = new Point(x,y);		}				public function moveTo(pos:Point):void {			targetPos = pos;		}				protected function setPos(newPos:Point):void {			x=newPos.x;			y=newPos.y;		}				protected function offsetPos(vector:Point):void {			x+=vector.x;			y+=vector.y;		}				public function update():void {			var os:Point = targetPos.subtract(new Point(x,y));			if(os.length > SPEED){				os.normalize(SPEED);				offsetPos(os);				var ang:Number = Math.atan2(os.y,os.x)				var p6:Number = Math.PI/6;				if(ang>=-p6 && ang<=(3*p6)){					gotoAndStop("right");				}else if(ang<-p6 && ang>=(-3*p6)){					gotoAndStop("up");				}else if(ang<(-3*p6) || ang>=(6*p6)){					gotoAndStop("left");				}else{					gotoAndStop("down");				}			} else {				x = targetPos.x;				y = targetPos.y;			}					}				public function isMoving():Boolean{			return (targetPos.subtract(new Point(x,y)).length<1);		}	}}